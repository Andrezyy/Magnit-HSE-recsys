# Решение II этапа соревнования по Рекомендательным системам от Магнита и ВШЭ
Работа с шутками:
- Шутки были прогнаны через ChatGPT с целью классификации их по жанрам (Wordplay, Observational, Character_based, Satire, Absurd, Dark), при чем шутка может быть представитем сразу нескольких жарнов.
- TF-IDF, Key words. Но своего применения не нашли. 

Работа с пользователями:
- Особо ничего найти не получилось, оценки довольно хаотичные, даже в рамках определенных жанров шуток.

Основа решения:
- За основу решения взята коллаборативная система по итемам от fast.ai с параметрами, полученными с помощью Optuna.
- Рекомендации для имеющихся в системе пользователей делаются из следующего пула: незнакомые шутки + рандомные 25% знакомых шуток. 
  - Это нужно для своегобразного трейдофа между **novelty** и **MAP@10**, так как **novelty** должно из-за этого просесть, а **MAP@10** наоборот подняться, так как рейтинги знакомых шуток система хорошо знает.
  - Также я считаю, логику рекомендательных систем это никак не нарушает, поскольку нет ничего такого, чтобы порекомендовать пользователю то, что он уже видел или пробовал. Главное чтобы ему это понравилось!
- Холодный старт делается на основе шуток. Каждому новому пользователю рекомендуется по 2 шутки из каждого жанра, чтобы прощупать его вкусы.
  - Порядок шуток случаный, в качестве рейтинга взят средний рейтинг из тренировочного датасета  

Dockerfile:
- в папке models модель
- в папке stuff необходимые данные
- В связи с этим в Dokerfile было добавленно 2 дополнительные строчки

Немного про запуск решения:
- После зарузки входной файл теперь называется input.csv, выходной файл с рекомендациями output.csv
- Чтобы получить рекомендации надо перейти по /get_recs

